{{ define "main" }}

{{/* ── Hero background: process for WebP + fallback ── */}}
{{ $heroBg := resources.Get "images/hero/background-image.jpg" }}
{{ $heroBgWebp := $heroBg.Resize "1600x webp q80" }}
{{ $heroBgJpeg := $heroBg.Resize "1600x jpeg q80" }}

<!-- Hero -->
<section class="hero">
  <picture class="hero-bg-picture">
    <source type="image/webp" srcset="{{ $heroBgWebp.RelPermalink }}">
    <img src="{{ $heroBgJpeg.RelPermalink }}" alt="Creme It Up bakery studio" class="hero-bg-img" width="{{ $heroBgJpeg.Width }}" height="{{ $heroBgJpeg.Height }}" fetchpriority="high" decoding="async">
  </picture>
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <p class="hero-label">Chandigarh's Finest Bakery</p>
    <h1>Where Every<br><em>Crumb</em> Tells<br>a Story</h1>
    <p class="hero-sub">Premium handcrafted cakes, French pastries, and baking workshops by Chef Anushka Madaan.</p>
    <div class="hero-actions">
      <a href="/classes/" class="btn btn-light">Explore Classes</a>
      <a href="/contact/" class="btn btn-ghost">Get in Touch</a>
    </div>
  </div>
  <div class="hero-curve">
    <svg viewBox="0 0 1440 80" preserveAspectRatio="none">
      <path d="M0,40 C360,80 1080,0 1440,40 L1440,80 L0,80 Z" fill="#FBF7F2"/>
    </svg>
  </div>
</section>

<!-- Scrolling Marquee -->
<div class="marquee">
  <div class="marquee-track">
    <span>Custom Cakes&nbsp; · &nbsp;French Pastries&nbsp; · &nbsp;Baking Workshops&nbsp; · &nbsp;Artisan Breads&nbsp; · &nbsp;Chocolate Art&nbsp; · &nbsp;Wedding Cakes&nbsp; · &nbsp;Eggless Baking&nbsp; · &nbsp;</span>
    <span>Custom Cakes&nbsp; · &nbsp;French Pastries&nbsp; · &nbsp;Baking Workshops&nbsp; · &nbsp;Artisan Breads&nbsp; · &nbsp;Chocolate Art&nbsp; · &nbsp;Wedding Cakes&nbsp; · &nbsp;Eggless Baking&nbsp; · &nbsp;</span>
  </div>
</div>

<!-- About -->
<section class="section">
  <div class="container">
    <div class="about-layout fade">
      <div class="about-image">
        {{ partial "image.html" (dict "src" "images/hero/hero-chef.jpg" "alt" "Chef Anushka Madaan at Creme It Up bakery studio" "widths" (slice 400 600 800) "sizes" "(max-width: 768px) 320px, 50vw" "loading" "lazy") }}
        <div class="about-image-accent"></div>
      </div>
      <div class="about-text">
        <p class="label">The Studio</p>
        <h2>Crafted by<br><em>Anushka Madaan</em></h2>
        <p>With 5+ years of pastry experience, Chef Anushka creates desserts that balance artistry with flavour. From delicate French pastries to show-stopping wedding cakes — every creation is baked fresh at our Sector 46C studio in Chandigarh.</p>
        <p>Beyond baking, she teaches the craft through intimate workshops that have trained hundreds of students across Chandigarh, Mohali, and Panchkula.</p>
        <a href="/about/" class="text-link">Learn more about us &rarr;</a>
      </div>
    </div>
  </div>
</section>

<!-- Ornament -->
<div class="ornament">&diams;</div>

<!-- Offerings -->
<section class="section section-linen">
  <div class="container">
    <div class="section-heading fade">
      <p class="label">What We Create</p>
      <h2>Our Offerings</h2>
    </div>
    <div class="offerings fade">
      <div class="offering-item">
        <span class="offering-num">01</span>
        <div>
          <h3>Custom Cakes</h3>
          <p>Birthday cakes, wedding cakes, and celebration cakes — each one designed and baked fresh for occasions across Chandigarh, Mohali, and Panchkula.</p>
        </div>
      </div>
      <div class="offering-item">
        <span class="offering-num">02</span>
        <div>
          <h3>Baking Workshops</h3>
          <p>Hands-on and online classes by Chef Anushka. Small batches, real technique — perfect for beginners and seasoned bakers alike.</p>
        </div>
      </div>
      <div class="offering-item">
        <span class="offering-num">03</span>
        <div>
          <h3>French Pastries</h3>
          <p>Authentic croissants, macarons, eclairs, and tarts. A refined French-style patisserie experience.</p>
        </div>
      </div>
      <div class="offering-item">
        <span class="offering-num">04</span>
        <div>
          <h3>Artisan Breads</h3>
          <p>Sourdough, focaccia, brioche — freshly baked artisan loaves crafted with traditional techniques and premium ingredients.</p>
        </div>
      </div>
      <div class="offering-item">
        <span class="offering-num">05</span>
        <div>
          <h3>Chocolate Art</h3>
          <p>Handcrafted bonbons, truffles, and chocolate showpieces. Premium Belgian chocolate creations for gifting and special occasions.</p>
        </div>
      </div>
      <div class="offering-item">
        <span class="offering-num">06</span>
        <div>
          <h3>Dessert Tables</h3>
          <p>Curated dessert spreads for weddings, parties, and celebrations — designed to impress.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Gallery -->
<section class="section">
  <div class="container">
    <div class="section-heading fade">
      <p class="label">Our Creations</p>
      <h2>Gallery</h2>
    </div>
    <div class="gallery-mosaic fade">
      {{ $galleryItems := slice
        (dict "src" "images/gallery/assorted-sweets.jpg" "alt" "Handcrafted assorted sweet treats from Creme It Up")
        (dict "src" "images/gallery/cookies.jpg" "alt" "Fresh baked cookies at Creme It Up")
        (dict "src" "images/gallery/gallery-whisk.jpg" "alt" "Baking tools and preparation at Creme It Up studio")
        (dict "src" "images/gallery/sweets.jpg" "alt" "Premium sweet creations by Chef Anushka Madaan")
        (dict "src" "images/gallery/gallery-donut.jpg" "alt" "Freshly made donuts from Creme It Up")
        (dict "src" "images/gallery/coffee-beans.jpg" "alt" "Coffee-infused dessert decorations at Creme It Up")
      }}
      {{ range $galleryItems }}
        {{ $img := resources.Get .src }}
        {{ if $img }}
          {{ $webp := $img.Fill "500x500 webp q82" }}
          {{ $jpeg := $img.Fill "500x500 jpeg q82" }}
          <div class="gallery-item">
            <picture>
              <source type="image/webp" srcset="{{ $webp.RelPermalink }}">
              <img src="{{ $jpeg.RelPermalink }}" alt="{{ .alt }}" width="500" height="500" loading="lazy" decoding="async">
            </picture>
          </div>
        {{ end }}
      {{ end }}
    </div>
    <div style="text-align:center;margin-top:2.5rem;">
      <a href="/gallery/" class="btn btn-outline-dark">View Full Gallery</a>
    </div>
  </div>
</section>

<!-- Blog -->
<section class="section section-linen">
  <div class="container">
    <div class="section-heading fade">
      <p class="label">Journal</p>
      <h2>Latest Stories</h2>
    </div>
    <div class="blog-list fade">
      {{ $fallbackImg := resources.Get "images/gallery/gallery-cookies.jpg" }}
      {{ $fallbackWebp := $fallbackImg.Fill "200x140 webp q80" }}
      {{ $fallbackJpeg := $fallbackImg.Fill "200x140 jpeg q80" }}
      {{ range first 4 (where .Site.RegularPages "Section" "blog") }}
      <a href="{{ .Permalink }}" class="blog-row">
        {{ with .Params.image }}
          <img src="{{ . }}" alt="{{ $.Title }}" width="200" height="140" loading="lazy" decoding="async">
        {{ else }}
          <picture>
            <source type="image/webp" srcset="{{ $fallbackWebp.RelPermalink }}">
            <img src="{{ $fallbackJpeg.RelPermalink }}" alt="{{ .Title }}" width="200" height="140" loading="lazy" decoding="async">
          </picture>
        {{ end }}
        <div>
          <time>{{ .Date.Format "Jan 2, 2006" }}</time>
          <h3>{{ .Title }}</h3>
        </div>
        <span class="arrow">&rarr;</span>
      </a>
      {{ end }}
    </div>
    <div style="text-align:center;margin-top:2.5rem;">
      <a href="/blog/" class="btn btn-outline-dark">View All Stories</a>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-warm">
  <div class="container fade">
    <h2>Let's Create<br>Something <em>Sweet</em></h2>
    <p>Join our next workshop or order a custom cake. Serving Chandigarh, Mohali, Panchkula, and beyond.</p>
    <div class="cta-actions">
      <a href="/contact/" class="btn btn-light">Reach Us</a>
      <a href="{{ .Site.Params.instagram }}" class="btn btn-ghost" target="_blank" rel="noopener">Follow Us on Instagram</a>
    </div>
  </div>
</section>

{{ end }}
