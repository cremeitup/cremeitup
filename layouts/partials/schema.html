{{ if .IsHome }}
{{ $schemaLogo := resources.Get "images/logo.png" }}
{{ $schemaLogoProcessed := $schemaLogo.Fill "512x512 png" }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Bakery",
  "name": "Creme It Up",
  "description": "{{ .Site.Params.description }}",
  "url": "{{ .Site.BaseURL }}",
  "logo": "{{ $schemaLogoProcessed.Permalink }}",
  "image": "{{ (.Site.Params.ogImage | absURL) }}",
  "telephone": "{{ .Site.Params.phone }}",
  "email": "{{ .Site.Params.email }}",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Sector 46 C",
    "addressLocality": "Chandigarh",
    "addressRegion": "Chandigarh",
    "postalCode": "160047",
    "addressCountry": "IN"
  },
  "founder": {
    "@type": "Person",
    "name": "Anushka Madaan",
    "jobTitle": "Head Pastry Chef"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "30.7260",
    "longitude": "76.7649"
  },
  "areaServed": [
    { "@type": "City", "name": "Chandigarh" },
    { "@type": "City", "name": "Mohali" },
    { "@type": "City", "name": "Panchkula" },
    { "@type": "City", "name": "Zirakpur" }
  ],
  "priceRange": "$$",
  "openingHoursSpecification": {
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],
    "opens": "10:00",
    "closes": "20:00"
  },
  "sameAs": [
    "{{ .Site.Params.instagram }}",
    "{{ .Site.Params.linktree }}"
  ],
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Bakery Products & Classes",
    "itemListElement": [
      {"@type": "Offer", "itemOffered": {"@type": "Service", "name": "Baking Workshops"}},
      {"@type": "Offer", "itemOffered": {"@type": "Product", "name": "Custom Cakes"}},
      {"@type": "Offer", "itemOffered": {"@type": "Product", "name": "French Pastries"}},
      {"@type": "Offer", "itemOffered": {"@type": "Product", "name": "Artisan Breads"}}
    ]
  }
}
</script>
{{ end }}

{{ if and .IsPage (eq .Section "blog") }}
{{ $blogSchemaImg := "" }}
{{ with .Params.image }}
  {{ $res := resources.Get . }}
  {{ if $res }}
    {{ $processed := $res.Fill "1200x630 jpeg q85" }}
    {{ $blogSchemaImg = $processed.Permalink }}
  {{ end }}
{{ end }}
{{ if not $blogSchemaImg }}{{ $blogSchemaImg = (.Site.Params.ogImage | absURL) }}{{ end }}
{{ $schemaPublisherLogo := resources.Get "images/logo.png" }}
{{ $schemaPublisherLogoProcessed := $schemaPublisherLogo.Fill "512x512 png" }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ .Title }}",
  "description": "{{ .Description }}",
  "url": "{{ .Permalink }}",
  "image": "{{ $blogSchemaImg }}",
  "datePublished": "{{ .Date.Format "2006-01-02" }}",
  "dateModified": "{{ .Lastmod.Format "2006-01-02" }}",
  "author": {
    "@type": "Person",
    "name": "{{ .Site.Params.author }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Creme It Up",
    "url": "{{ .Site.BaseURL }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ $schemaPublisherLogoProcessed.Permalink }}"
    }
  },
  "mainEntityOfPage": "{{ .Permalink }}"
}
</script>
{{ end }}
